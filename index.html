<html>

<body>
    <div>
        <input id="title" type="text" placeholder="title"></input>
        <br><br>
        <input id="description" type="text" placeholder="description"></input>
        <br><br>
        <!-- <button onclick="addTodo()">Add todo</button> -->
        <div id="container">
        </div>

    </div>
    <script>
        let GlobalId = 0;
        function markDone(id) {
            const parent = document.getElementById(id)
            parent.children[2].innerHTML = "Done"
        }
        function createChild(title, description, id) {
            const child = document.createElement("div")
            const firstGrandChild = document.createElement("div")
            firstGrandChild.innerHTML = title
            const secondGrandChild = document.createElement("div")
            secondGrandChild.innerHTML = description
            const thirdGrandChild = document.createElement("button")
            thirdGrandChild.innerHTML = "Mark as Done"
            thirdGrandChild.setAttribute("onclick", `markDone(${id})`)
            child.append(firstGrandChild)
            child.append(secondGrandChild)
            child.append(thirdGrandChild)

            child.setAttribute("id", id)
            return child

        }
        function addTodo() {
            const title = document.getElementById("title").value
            const description = document.getElementById("description").value
            const parent = document.getElementById("container")

            parent.appendChild(createChild(title, description, GlobalId++))

        }
        function updateDOM(state) {
            const parent = document.getElementById("container")
            parent.innerHTML = ""
            for (let i = 0; i <= state.length - 1; i++) {
                const child = createChild(state[i].title, state[i].description, state[i].id)
                parent.appendChild(child)
            }
        }

        updateDOM([
            { title: "dfcdsf", description: "efhnefhnwnei", id: 0 },
            { title: "title2", description: "fdvfs", id: 1 }
        ])


    </script>
</body>

</html>